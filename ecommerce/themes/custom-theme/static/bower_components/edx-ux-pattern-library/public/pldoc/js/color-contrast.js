define(["jquery"],function(t){var s={vars:{failClass:"fail-a11y-color"},init:function(){this.checkContrast()},rgbaToHex:function(t){var s,n=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return s=n&&4===n.length?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):"",s=s.replace("#","")},checkContrast:function(){var n,r,i,e;t(".example-color").each(function(){n=s.getL(s.rgbaToHex(t(this).css("backgroundColor"))),r=s.getL(s.rgbaToHex(t(this).find(".color-class").css("color"))),i=(Math.max(n,r)+.05)/(Math.min(n,r)+.05),e=[4.5,3],i<e[0]&&s.applyHighlighting(t(this)),i<e[1]})},getL:function(t){var n,r,i,e,a=!1;return 3==t.length?(n=s.getsRGB(t.substring(0,1)+t.substring(0,1)),r=s.getsRGB(t.substring(1,2)+t.substring(1,2)),i=s.getsRGB(t.substring(2,3)+t.substring(2,3)),a=!0):6==t.length?(n=s.getsRGB(t.substring(0,2)),r=s.getsRGB(t.substring(2,4)),i=s.getsRGB(t.substring(4,6)),a=!0):a=!1,a?e=.2126*n+.7152*r+.0722*i:!1},getsRGB:function(t){return t=s.getRGB(t),t!==!1?(t/=255,t=.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)):!1},getRGB:function(t){var s;try{s=parseInt(t,16)}catch(n){s=!1}return s},applyHighlighting:function(n){t(n).addClass(s.vars.failClass)}};s.init()});